<div class="bg-image">
  <div class="row justify-content-center py-3">
      <div class="col-md-3 px-3 py-3 rounded-4 carte_login">
          <div class="row justify-content-center px-5 mb-4">
              <div class="col-8">
                  <img alt="" src="assets/images/logo-ugb.png" class="img-fluid">
              </div>
          </div>
          <div class="row text-center">
              <p class="text_acceuil fs-4 fw-bold">Service d'Authentification Unique</p>
          </div>
          <div class="row justify-content-center">
              <form [formGroup]="authForm" id="loginForm" (ngSubmit)="login()">
                  <div class="form-group mx-2">
                      <label for="username" class="text_label fs-4 fw-lighter">Email institutionnelle UGB</label>
                      <input type="text" id="username" name="username" formControlName="username"
                             class="form-control rounded-3 bg-dark bg-opacity-25 border-bleu"
                             [ngClass]="{'is-invalid': authForm.get('username')?.invalid && authForm.get('username')?.touched}"
                             placeholder="Ex : xxxxxx.xxxx@ugb.edu.sn" autocomplete="off">
                      <div *ngIf="authForm.get('username')?.errors && authForm.get('username')?.touched" class="invalid-feedback">
                        <div *ngIf="authForm.get('username')?.errors?.['required']">Ce champ est requis.</div>
                        <div *ngIf="authForm.get('username')?.errors?.['pattern']" [innerHTML]="'Email invalide (ex: nom.prenom@ugb.edu.sn).'"></div>
                      </div>

                  </div>
                  <div class="form-group mx-2 mt-3">
                      <label for="password" class="text_label fs-4 fw-lighter">Mot de passe</label>
                      <input type="password" id="password" formControlName="password" name="password"
                              class="form-control rounded-3 bg-dark bg-opacity-25 border-bleu"
                              [ngClass]="{'is-invalid': authForm.get('password')?.invalid && authForm.get('password')?.touched}"
                              placeholder="*************">
                      <div *ngIf="authForm.get('password')?.errors && authForm.get('password')?.touched" class="invalid-feedback">
                        <div *ngIf="authForm.get('password')?.errors?.['required']">Ce champ est requis.</div>
                        <div *ngIf="authForm.get('password')?.errors?.['minlength']">Le mot de passe doit contenir au moins 4 caract√®res.</div>
                      </div>

                  </div>
                  <div class="form-group mx-4 p-3">
                      <button type="submit" id="btnSubmit" class="btn bg-marron rounded-5 w-100 text-white fw-bold fs-4 text-uppercase">Connexion</button>
                  </div>

                  <!-- Message d'erreur global -->
                  <div *ngIf="errorMessage" class="alert alert-danger mt-3">
                    {{ errorMessage }}
                  </div>
              </form>

          </div>
      </div>
  </div>
</div>


